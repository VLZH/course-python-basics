---
title: –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö postgresql –∏ SQL
id: sql
---

import Link from "@theme/Link";

–¢–µ–º–∞ –°–£–ë–î –æ—á–µ–Ω—å —à–∏—Ä–æ–∫–∞—è.. –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±—ä–µ–º–Ω–æ –æ–ø–∏—Å–∞—Ç—å –µ–µ –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —è –Ω–∞–ø–∏—à—É –∫–∞–∫–∏–µ-—Ç–æ –ø—Ä–∏–º–µ—Ä—á–∏–∫–∏, —à–ø–∞—Ä–≥–∞–ª–∫–∏, –∞ –¥–ª—è —Ç–µ—Ö, –∫–æ–º—É —Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞ –ø–æ—Å–æ–≤–µ—Ç—É—é —Å–ª–µ–¥—É—é—â–∏–π –∫—É—Ä—Å:

<Link
    title="–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö - Computer Science Center"
    href="https://www.youtube.com/playlist?list=PLlb7e2G7aSpRsPnjtSi2q0GXZdUXuXO46"
    image={
        "https://i.ytimg.com/vi/_mH7c-MVUxc/hqdefault.jpg?sqp=-oaymwEXCNACELwBSFryq4qpAwkIARUAAIhCGAE=&rs=AOn4CLBxDbplLnifupc0FjGn0BXpFo0GGw"
    }
/>

**SQL** - –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —É–ø—Ä–∞–≤–ª—è–µ–º–æ–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ `SQL` –±—ã–ª –æ—Å–Ω–æ–≤–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–∑–≤–æ–ª—è–ª –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –Ω–∞–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π:

-   —Å–æ–∑–¥–∞–Ω–∏–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã.
-   –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü—É –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π.
-   –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π.
-   —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π.
-   –≤—ã–±–æ—Ä–∫–∞ –∑–∞–ø–∏—Å–µ–π –∏–∑ –æ–¥–Ω–æ–π –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–¥–∞–Ω–Ω—ã–º —É—Å–ª–æ–≤–∏–µ–º).
-   –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä —Ç–∞–±–ª–∏—Ü.

## –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö Postgresql

–û–ø–∏—à—É —Ç–æ–ª—å–∫–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∏–ø—ã –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è:

### –ß–∏—Å–ª–æ–≤—ã–µ —Ç–∏–ø—ã

| type    | length  | description                                                                                                          |
| ------- | ------- | -------------------------------------------------------------------------------------------------------------------- |
| smalint | 2 bytes | –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —á–∏—Å–ª–∞ –¥–ª–∏–Ω–æ–π –≤ 2 –±–∞–π—Ç–∞                                                                             |
| integet | 4 bytes | 4-–±–∞–π—Ç–æ–≤–æ–µ —á–∏—Å–ª–æ                                                                                                     |
| biging  | 8 bytes | 8-–±–∞–π—Ç–æ–≤–æ–µ —á–∏—Å–ª–æ                                                                                                     |
| decimal | \*      | –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Ö—Ä–∞–Ω–∏—Ç—å —á–∏—Å–ª–∞ —Å –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é(–∫–æ–ª-–≤–æ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π)                         |
| real    | 4 bytes | –¢–∏–ø –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–∏—Å–µ–ª —Å –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é                                                            |
| serial  | 4 bytes | –ü–æ—á—Ç–∏ —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π `integer`(`int`) –Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —ç—Ç–æ–º –ø–æ–ª–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ |

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã:

```sql
-- INT
SELECT 1.3::INT; -- 1
-- REAL
SELECT 0.3::REAL; -- 0.3
-- DECIMAL             üëá - –∫–æ–ª-–≤–æ —Ü–∏—Ñ—Ä
--                     |  üëá - –∫–æ–ª-–≤–æ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
SELECT 5.1234::DECIMAL(10, 5); -- 5.12340
```

### C–∏–º–≤–æ–ª—å–Ω—ã–µ —Ç–∏–ø—ã

| type       | length | description                                              |
| ---------- | ------ | -------------------------------------------------------- |
| varchar(n) | \*     | –°—Ç—Ä–æ–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã —Å –º–∞–∫—Å–∏–º—É–º–æ–º `n`               |
| char(n)    | \*     | C—Ç—Ä–æ–∫–∏ –¥–ª–∏–Ω—ã `n`, –ø—É—Å—Ç—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–æ–∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–æ–±–µ–ª–∞–º–∏ |
| text       | \*     | –°—Ç—Ä–æ–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã                                |

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã:

```sql
SELECT 'some string'::CHAR(10); -- 'some strin'
SELECT 'some'::CHAR(10); -- 'some       '
```

### –¢–∏–ø—ã –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏

| type      | length   | description          | 
| --------- | -------- | ---------------------| 
| timestamp | 8 bytes  | –î–∞—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–µ–º      |
| date      | 4 bytes  | –î–∞—Ç–∞ –±–µ–∑ –≤—Ä–µ–º–µ–Ω–∏     | 
| time      | 8 bytes  | –í—Ä–µ–º—è –±–µ–∑ –¥–∞—Ç—ã       |
| interval  | 16 bytes | –í—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª   |
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã


```sql
#date - date = —á–∏—Å–ª–æ –¥–Ω–µ–π (integer)

SELECT '2012-01-05'::date - '2012-01-01'::date AS result;
 result
----------
        4
#today - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
SELECT 'today'::timestamp, now()::date;
      timestamp      |    now
---------------------+-----------
 2013-07-21 00:00:00 | 2013-07-21
 #–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –º–æ–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –∏ –≤—ã—á–∏—Ç–∞—Ç—å –º–µ–∂–¥—É —Å–æ–±–æ–π, –¥–µ–ª–∏—Ç—å –∏ —É–º–Ω–æ–∂–∞—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–∏—Å–ª–∞.
 SELECT '1 hour'::interval / 7 AS result;
    result
-----------------
 00:08:34.285714
```
–í —Ç–∏–ø–∞—Ö timestamp –∏ time –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Å —á–∞—Å–æ–≤—ã–º –ø–æ—è—Å–æ–º –∏–ª–∏ –Ω–µ—Ç. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–¥–µ—Ç –±–µ–∑ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞.
–ß—Ç–æ –±—ã –≤—Ä–µ–º—è –∏–ª–∏ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è —Å —á–∞—Å–æ–≤—ã–º –ø–æ—è—Å–æ–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å timestamp with time zone(time with time zone) 
–∏–ª–∏ –∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ timestamptz (timetz).


### –ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

> TODO: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å

## SQL –∫–æ–º–º–∞–Ω–¥—ã

<Link
    title="PostgreSQL Documentation - All commands"
    href="https://www.postgresql.org/docs/current/sql-commands.html"
    image={
        "http://www.virtual-dba.com/media/postgresql-database-services-remote-dba.png"
    }
/>

### –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –æ–¥–Ω–æ–π `–°–£–ë–î` —É –Ω–∞—Å –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã–µ –≤ `PostgreSQL` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è –∫–æ–º–∞–Ω–¥–∞:

```sql
CREATE DATABASE <database_name>;
```

> #### PSQL
>
> –ï—Å–ª–∏ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ REPL-–∫–ª–∏–µ–Ω—Ç–µ `psql` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–ª–µ–¥—É–µ—Ç –Ω–∞–±—Ä–∞—Ç—å –∫–æ–º–∞–Ω–¥—É: `\c <database_name>`

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã

–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `CREATE TABLE`. –í –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ –ø–æ–∫–∞–∑–∞–Ω–æ –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –ø–æ–ª–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞, –≤ –∫—Ä—É–≥–ª—ã—Ö —Å–∫–æ–±–æ—á–∫–∞—Ö –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è –∫–æ–ª–æ–Ω–∫–∏(`columns`) –≤ —Ç–∞–±–ª–∏—Ü–µ –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è(`constraints`)

```sql
CREATE TABLE <table_name>(
    id SERIAL,
    original_url VARCHAR(2000),
    code VARCHAR(8),
    user_id INT,
    redirects_count INT,
    created_at TIMESTAMP
);
```

### –£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã

```sql
DROP TABLE <table_name>;
```

## –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü—ã

```sql
SELECT * from <table_name> [WHERE <conditions> ];
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü—É

```sql
INSERT INTO <table_name> (...fields) VALUES ();
```

## –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ

```sql
UPDATE <table_name>
```
